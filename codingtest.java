/*
문제 설명:
이 문제는 N개의 정수로 이루어진 수열을 4개의 스택을 사용하여 정렬할 수 있는지 확인하는 것입니다.
각 숫자는 자신보다 작은 숫자가 있는 스택의 맨 위에만 놓일 수 있습니다.
모든 숫자를 이런 방식으로 배치할 수 있다면 "YES"를, 그렇지 않다면 "NO"를 출력합니다.

슈도코드:
1. 4개의 스택을 생성하고 각 스택에 0을 push한다 (비교를 위한 초기값)
2. N을 입력받는다 (수열의 길이)
3. N번 반복:
    3.1. 숫자를 입력받는다
    3.2. 4개의 스택을 순회하며:
        3.2.1. 만약 현재 숫자가 스택의 top보다 크다면:
            3.2.1.1. 해당 스택에 숫자를 push한다
            3.2.1.2. 다음 숫자로 넘어간다 (3으로 돌아감)
    3.3. 만약 4개의 스택 모두를 확인했는데 push하지 못했다면:
        3.3.1. "NO"를 출력하고 프로그램을 종료한다
4. 모든 숫자를 처리했다면 "YES"를 출력한다

추가 설명:
- 이 문제는 그리디 알고리즘의 특성을 가지고 있습니다. 각 숫자를 처리할 때마다 가능한 가장 좋은 선택(가장 작은 top을 가진 적절한 스택)을 합니다.
- 4개의 스택을 사용하는 것은 문제의 제약 조건입니다. 이는 실제 시스템에서 리소스의 제한을 모델링한 것으로 볼 수 있습니다.
- 각 스택의 초기값으로 0을 넣는 것은 구현을 단순화하기 위한 트릭입니다. 이렇게 하면 첫 번째 비교 시 항상 유효한 값과 비교할 수 있습니다.
- 이 알고리즘의 시간 복잡도는 O(N)입니다. 각 숫자에 대해 최대 4번의 비교만 수행하기 때문입니다.
- 이 문제는 스택의 LIFO(Last In First Out) 특성을 활용하여 수열을 정렬하는 과정을 시뮬레이션합니다. 실제 서버 개발에서 이와 유사한 로직은 작업 스케줄링이나 리소스 할당 등에 활용될 수 있습니다.
*/
import java.util.Scanner;
import java.util.Stack;

public class codingtest1 {
    public static void main(String[] args) {
        // Scanner 객체를 생성하여 표준 입력을 받을 준비를 합니다.
        Scanner sc = new Scanner(System.in);

        // 첫 번째 입력값을 받아 정수 n에 저장합니다. 이는 처리할 숫자의 개수입니다.
        int n = sc.nextInt();

        // 4개의 Stack<Integer> 객체를 담을 수 있는 배열을 생성합니다.
        Stack<Integer>[] stacks = new Stack[4];

        // 4개의 스택을 초기화하고 각 스택의 맨 아래에 0을 넣습니다.
        // 이는 비교를 위한 기준값으로 사용됩니다.
        for (int i = 0; i < 4; i++) {
            stacks[i] = new Stack<>();
            stacks[i].push(0);
        }

        // n번 반복하여 숫자를 입력받고 처리합니다.
        for (int i = 0; i < n; i++) {
            // 숫자를 입력받습니다.
            int num = sc.nextInt();
            // 숫자가 스택에 배치되었는지를 나타내는 플래그입니다.
            boolean placed = false;

            // 4개의 스택을 순회하며 숫자를 배치할 적절한 위치를 찾습니다.
            for (Stack<Integer> stack : stacks) {
                // 현재 숫자가 스택의 맨 위 숫자보다 크다면
                if (num > stack.peek()) {
                    // 해당 스택에 숫자를 추가합니다.
                    stack.push(num);
                    // 숫자가 배치되었음을 표시합니다.
                    placed = true;
                    // 스택 순회를 종료합니다.
                    break;
                }
            }

            // 만약 숫자를 어떤 스택에도 배치하지 못했다면
            if (!placed) {
                // "NO"를 출력하고 프로그램을 종료합니다.
                System.out.println("NO");
                return;
            }
        }

        // 모든 숫자를 성공적으로 배치했다면 "YES"를 출력합니다.
        System.out.println("YES");
    }
}