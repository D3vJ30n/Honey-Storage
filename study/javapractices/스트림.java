package study.javapractices;

import java.util.stream.IntStream;  // 정수 스트림 기능을 사용하기 위한 import 선언

/**
 * 문제: 1부터 10까지의 숫자 중에서 짝수들의 합을 구하는 프로그램
 * - 전통적인 방식(배열과 반복문)과 현대적인 방식(스트림)을 비교
 */
public class Practice {
    public static void main(String[] args) {
        // ===== 전통적인 방식으로 구현 =====
        
        // 1. 배열 선언 및 초기화
        // 1부터 10까지의 연속된 정수를 포함하는 배열 생성
        int[] arr = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
        
        // 2. 합계를 저장할 변수 선언 및 초기화
        int sum = 0;
        
        // 3. for-each 반복문을 사용하여 배열의 각 요소를 처리
        for (int num: arr) {           // arr 배열의 각 요소를 num 변수에 할당하며 순회
            if (num % 2 == 0) {        // 현재 숫자가 짝수인지 확인 (2로 나누어 떨어지는지)
                sum += num;            // 짝수인 경우에만 sum에 더함
            }
        }
        
        // 4. 전통적인 방식의 결과 출력
        // 짝수 2, 4, 6, 8, 10의 합인 30이 출력됨
        System.out.println("sum = " + sum);
        
        // ===== 스트림 방식으로 구현 =====
        
        int sum2 = IntStream              // IntStream: 정수를 처리하기 위한 특별한 스트림 생성
            .range(1, 11)                 // 1부터 10까지의 숫자 생성 (11은 포함되지 않음)
                                         // range(시작값, 종료값): 시작값 포함, 종료값 미포함
            .filter(x -> x % 2 == 0)      // 중간 연산: 짝수만 걸러내기
                                         // x -> x % 2 == 0: 람다식으로 짝수 판별
                                         // filter 메서드는 조건이 true인 요소만 통과시킴
            .sum();                       // 최종 연산: 필터링된 요소들의 합계 계산
                                         // sum() 메서드는 스트림의 모든 요소를 더한 결과 반환
        
        // 스트림 방식의 결과 출력
        // 동일하게 짝수 2, 4, 6, 8, 10의 합인 30이 출력됨
        System.out.println("sum2 = " + sum2);
        
        /* 두 방식의 비교
         * 1. 전통적인 방식
         *    - 장점: 코드의 동작을 직관적으로 이해하기 쉬움
         *    - 장점: 디버깅이 비교적 쉬움
         *    - 단점: 코드가 길어짐
         *    - 단점: 가독성이 떨어질 수 있음
         *
         * 2. 스트림 방식
         *    - 장점: 코드가 간결함
         *    - 장점: 메서드 체이닝으로 가독성이 좋음
         *    - 장점: 유지보수가 용이함
         *    - 장점: 병렬 처리가 쉬움 (parallel() 메서드 사용)
         *    - 단점: 스트림 API에 대한 이해가 필요함
         * 
         * 실행 순서 (스트림 방식):
         * 1. IntStream.range(1, 11)로 1~10까지의 숫자 생성
         * 2. filter로 짝수만 선택 [2, 4, 6, 8, 10]
         * 3. sum으로 최종 합계 계산 (30)
         */
    }
}