package study.javapractices;

import java.util.HashMap;

public class Practice1 {
    public static void solution(String s) {
        // HashMap을 사용하여 로마 숫자와 해당하는 정수값을 매핑
        // 빠른 검색과 값 참조를 위해 HashMap 자료구조 선택
        HashMap<Character, Integer> map = new HashMap<>();
        map.put('I', 1);    // 로마 숫자 I는 1을 의미
        map.put('V', 5);    // 로마 숫자 V는 5를 의미
        map.put('X', 10);   // 로마 숫자 X는 10을 의미
        map.put('L', 50);   // 로마 숫자 L은 50을 의미
        map.put('C', 100);  // 로마 숫자 C는 100을 의미
        map.put('D', 500);  // 로마 숫자 D는 500을 의미
        map.put('M', 1000); // 로마 숫자 M은 1000을 의미
        
        // 최종 결과값을 저장할 변수 초기화
        int sum = 0;
        
        // 입력받은 문자열을 문자 배열로 변환
        // 각 문자를 쉽게 순회하고 접근하기 위함
        char[] arr = s.toCharArray();
        
        // 마지막 문자를 제외한 모든 문자를 순회
        // 마지막 문자는 별도로 처리해야 하므로 length-1까지만 반복
        for (int i = 0; i < arr.length - 1; i++) {
            // 현재 숫자가 다음 숫자보다 작은 경우
            // (예: IV에서 I는 V보다 작음)
            if (map.get(arr[i]) < map.get(arr[i + 1])) {
                // 작은 숫자를 전체 합에서 뺌
                // (IV는 5-1 = 4를 의미)
                sum -= map.get(arr[i]);
            } else {
                // 현재 숫자가 다음 숫자보다 크거나 같은 경우
                // 일반적인 경우로, 숫자를 더함
                // (예: VI에서 V는 I보다 큼)
                sum += map.get(arr[i]);
            }
        }
        
        // 마지막 문자는 항상 더함
        // 마지막 문자는 비교할 다음 문자가 없으므로 별도로 처리
        sum += map.get(arr[arr.length - 1]);
        
        // 최종 결과 출력
        System.out.println(sum);
    }
    
    public static void main(String[] args) {
        // 다양한 케이스에 대한 테스트 코드
        solution("III");     // 3을 의미하는 로마 숫자
        solution("IV");      // 4를 의미하는 로마 숫자
        solution("VI");      // 6을 의미하는 로마 숫자
        solution("XIII");    // 13을 의미하는 로마 숫자
        solution("XXVI");    // 26을 의미하는 로마 숫자
        solution("MCMXCIV"); // 1994를 의미하는 로마 숫자
    }
}

// 이 코드에서 -1과 +1의 사용은 반복문과 숫자 비교 논리와 관련된 특정한 역할을 합니다. 하나씩 자세히 설명하겠습니다.

// 코드 설명
// 이 코드는 로마 숫자를 정수 값으로 변환하는 알고리즘입니다. 이 과정에서는 로마 숫자에서 작은 숫자가 큰 숫자 앞에 올 때 빼기 연산을 해야 하는 경우를 처리합니다. 예를 들어, "IV"는 5에서 1을 빼서 4가 됩니다.

// -1의 역할
// java
// 코드 복사
// for (int i = 0; i < arr.length - 1; i++) {
// arr.length - 1은 반복문이 마지막 문자 전까지만 순회하도록 설정합니다.
// 마지막 문자는 반복문 밖에서 별도로 처리하기 위해 사용됩니다.
// 이는 마지막 문자는 다음에 비교할 문자가 없기 때문에, 반복문에서 다루지 않고 따로 처리하는 방식입니다.
// +1의 역할
// java
// 코드 복사
// if (map.get(arr[i]) < map.get(arr[i + 1])) {
// arr[i + 1]은 현재 문자 바로 다음에 있는 문자를 가리킵니다.
// 현재 숫자가 다음 숫자보다 작다면, 뺄셈을 해야 하는 로마 숫자 규칙을 적용합니다.
// 예를 들어, "IV"에서 I는 V보다 작으므로, 이 조건을 만족하고 전체 합에서 I 값을 뺍니다.
// 이렇게 -1과 +1은 연산자 자체로 쓰인 것이 아니라, 반복문 범위와 인덱스 이동을 제어하기 위해 사용된 것입니다.

// 결론
// -1은 마지막 문자를 제외하고 반복문을 돌리기 위함입니다.
// +1은 현재 문자와 다음 문자를 비교하기 위해 사용됩니다.
// 이 두 가지는 로마 숫자 변환의 핵심 로직에서 정확한 값을 계산하기 위한 필수적인 부분입니다.